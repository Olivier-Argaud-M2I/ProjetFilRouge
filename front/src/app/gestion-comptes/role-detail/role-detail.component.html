
<app-nav-bar></app-nav-bar>

<div class="intro-y box mt-3">
    <div class="flex flex-col sm:flex-row items-center p-5 border-b border-darkmode-400">
        <h1 class="intro-y text-lg font-medium" *ngIf="role!=null">
            Modification du role {{role.name}} <br>
        </h1>
    </div>
    <div class="modal-body relative p-4">
        
        <div>Liste des privileges du role</div>

        <div *ngFor="let priv of role!.privileges" class="mt-2" >
            <p class="font-medium capitalize">{{priv.name}}</p>
            <button (click)="removePrivilege(priv)" class="btn btn-outline-secondary py-1 px-3">Supprimer</button>
        </div>
    

        <form (ngSubmit)="addPrivilege()" [formGroup]="roleForm">

            <div>
                <label for="regular-form" class="form-label">Liste des privileges</label>
            </div>
            <div class="mt-3">
                <select name="privilege" id="privilege" formControlName="privilege" id="regular-form-4" class="form-control">
                    <option *ngFor="let privilege of privileges; let k = index" [ngValue]="privilege">
                        {{privilege.name}}
                    </option>
                </select>
            </div>

            <div class="mt-3">
                <button type="button" routerLink="/contact" routerLinkActive = "selectedMenu" value="Admin" class="btn btn-primary py-3 px-4 w-full xl:w-32 xl:mr-3 align-top" data-bs-dismiss="modal">
                    Annuler
                </button>
                <button type="submit" value="Valider" [disabled]="roleForm.invalid" class="btn btn-primary py-3 px-4 w-full xl:w-32 xl:mr-3 align-to">
                    Valider
                </button>
            </div>
            
        </form>
    </div>
</div>
